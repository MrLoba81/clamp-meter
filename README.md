# Clamp Meter
A simple, non invasive powermeter

### Part list
* [SCT013 20A-1V](https://www.poweruc.pl/collections/split-core-current-transformers2/products/split-core-current-transformer-sct013-rated-input-5a-100a?variant=6876754837548)
* [ZMPT101B](https://www.amazon.it/ANGEEK-ZMPT101B-Voltage-Transformer-Arduino/dp/B07ZDJS7CD/ref=sr_1_5?crid=2VDKQQ92EFPPX&keywords=zmpt101b&qid=1661873666&sprefix=zmpt%2Caps%2C177&sr=8-5)
* [Arduino Nano](https://www.amazon.it/AZDelivery-Atmega328-compatibile-Arduino-CH340/dp/B01LWSJBTD/ref=sr_1_5?__mk_it_IT=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=2W9PAR9ZX076H&keywords=arduino+nano&qid=1661873718&sprefix=arduino+nano%2Caps%2C186&sr=8-5)
* [SSD1306 single color](https://www.amazon.it/AZDelivery-Display-retroilluminato-Raspberry-gratuito/dp/B01L9GC470/ref=sr_1_4?__mk_it_IT=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=2PD4DDDC4VGNB&keywords=ssd1306&qid=1661873867&sprefix=ssd1306%2Caps%2C156&sr=8-4&th=1) or [SSD1306 yellow/blue](https://www.amazon.it/ARCELI-pollici-SSD1306-auto-luminoso-Raspberry/dp/B07J2QWF43/ref=sr_1_29?__mk_it_IT=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=2PD4DDDC4VGNB&keywords=ssd1306&qid=1661874005&sprefix=ssd1306%2Caps%2C156&sr=8-29)
* [Power Switch](https://it.aliexpress.com/item/32813951635.html?spm=a2g0o.order_list.0.0.21ef3696thxWUk&gatewayAdapt=glo2ita) - 8.8mm X 13.3mm
* [Fuse Holder](https://www.ebay.it/itm/291730713153)
* [IEC-320-C8](https://www.ebay.it/itm/254880092205)
* [Perfboard 5x7cm](https://www.amazon.it/AZDelivery-Prototipo-Breadboard-Circuit-progetti/dp/B078HV79XX/ref=sr_1_1_sspa?__mk_it_IT=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=1B4T7OKXY22JA&keywords=millefori&qid=1662108280&sprefix=millefori%2Caps%2C172&sr=8-1-spons&smid=A1X7QLRQH87QA3&th=1)
* [3,5mm pcb female audio jack](https://www.ebay.it/itm/201058258889)
* [AC/DC 5v 700mA](https://www.ebay.it/itm/332431319967?hash=item4d6673639f:g:ZL4AAOSw9JpcUvK0&amdata=enc%3AAQAHAAAAoK24RYejD0UpURP6y4e2oS7S%2Bev3zT%2BBxDCNzojMF3abUKjWitjZhNMoOReyx8eNTcwhip0FSz%2Fs5ZuitWlN8T2msyWbVs9j1raZCec0AtPl6JP9qMpz1dH2mj2refrOUvIaO3V2K8B%2F1wveC7XQRnYUdag0iCCLwOld0Es8B8JUI3C1hO1gmo44rl6fmJTCnwSRcbVkkqSbWzRfeDDwaqE%3D%7Ctkp%3ABk9SR8KG0NbfYA)
* [Pin Header 90°](https://www.amazon.it/Aussel-2-54mm-Breakable-Connector-Arduino/dp/B01MDRPUFU/ref=sr_1_17_sspa?__mk_it_IT=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=5G0OXWIGSXMU&keywords=pin%2Bheader%2B90%2Bgradi%2Bmale&qid=1662108595&sprefix=pin%2Bheader%2B90%2Bgradi%2Bmal%2Caps%2C139&sr=8-17-spons&th=1)
* 2x 10KOhm resistors
* 1x 104 ceramic capacitor
* 1x 10uf electrolitic capacitor
* [1x Male and Female 2pin JST connector](https://www.amazon.it/CQRobot-Pieces-2-54mm-JST-XHR-Connector/dp/B01EQGNZ2I/ref=sr_1_1_sspa?__mk_it_IT=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=C73LLDUMZDPZ&keywords=jst&qid=1662109381&sprefix=jst%2Caps%2C244&sr=8-1-spons&psc=1)
* [1x Male and Female 3pin JST connector](https://www.amazon.it/CQRobot-Pieces-2-54mm-JST-XHR-Connector/dp/B01EQGNZ2I/ref=sr_1_1_sspa?__mk_it_IT=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=C73LLDUMZDPZ&keywords=jst&qid=1662109381&sprefix=jst%2Caps%2C244&sr=8-1-spons&psc=1)
* [1x Male and Female 4pin JST connector](https://www.amazon.it/CQRobot-Pieces-2-54mm-JST-XHR-Connector/dp/B01EQGNZ2I/ref=sr_1_1_sspa?__mk_it_IT=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=C73LLDUMZDPZ&keywords=jst&qid=1662109381&sprefix=jst%2Caps%2C244&sr=8-1-spons&psc=1)
* [2x Dupont 4pins](https://www.ebay.it/itm/231161797482?hash=item35d2511b6a:g:voEAAOxyj4hTIHg2)
* [7x Female Dupont to crimp](https://www.ebay.it/itm/331155852325?hash=item4d1a6d4c25:g:KLQAAOSwzhVWq8K8)
* 2x M3 nuts
* 2x 12mm M3 screws

### Assembly
#### Print the enclosure
You can find two stl [here](https://github.com/MrLoba81/clamp-meter/tree/main/enclosure)  
It's suggested to use a Layer height of 0.2mm and First layer of 0.2mm Infill 12%  
I printed it with the classic PLA

#### Modify the pin header of the SSD1306
I desoldered the classic pin header from the display and soldered the 90° version, due to have less space requirements  
You che have a look [here](https://github.com/MrLoba81/clamp-meter/blob/main/images/display.jpg)

### Tune the ZMPT101B
Pay attention while performing this task due to High Alternate Voltage!!!

Connect the module as shown [here](https://github.com/MrLoba81/clamp-meter/blob/main/images/ZMPT101B.jpg)

You can open the Serial Plotter of the Arduino IDE and upload the following sketch to check if the syne wave is complete.
```
void setup() {  
  Serial.begin(9600);
}

void loop() {
  Serial.println(analogRead(A0));

  delay(100);
}
```
If not, ex. the waveform is cut from the top or bottom, you have to turn the potentiometer on the module to display the full waveform otherwise you'll get incorrect measurement.
